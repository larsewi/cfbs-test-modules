{
  "name": "cfbs-test-modules",
  "description": "CFEngine Build test modules.",
  "type": "module",
  "provides": {
    "create-single-file": {
      "description": "Create a single file.",
      "tags": ["experimental"],
      "dependencies": ["autorun"],
      "input": [
        {
          "namespace": "my_namespace",
          "bundle": "my_bundle",
          "name": "filename",
          "comment": "This is a comment.",
          "questions": {
            "string": {
              "prompt": "What file should this module create?",
              "default": "/tmp/create-single-file.txt"
            }
          }
        }
      ],
      "steps": [
        "copy ./create-single-file.cf services/autorun/create-single-file.cf"
      ]
    },
    "create-single-file-with-content": {
      "description": "Create a single file with content.",
      "tags": ["experimental"],
      "dependencies": ["autorun"],
      "input": [
        {
          "name": "file",
          "value": {
            "object": [
              {
                "key": "name",
                "value": {
                  "string": {
                    "prompt": "What file should this module create?",
                    "default": "/tmp/create-single-file-with-content.txt"
                  }
                }
              },
              {
                "key": "content",
                "value": {
                  "string": {
                    "prompt": "What content should this file have?",
                    "default": "Created by module 'create-single-file-with-content'"
                  }
                }
              }
            ]
          }
        }
      ],
      "steps": [
        "copy ./create-single-file-with-content.cf services/autorun/create-single-file-with-content.cf"
      ]
    },
    "create-multiple-files": {
      "description": "Create multiple files.",
      "tags": ["experimental"],
      "dependencies": ["autorun"],
      "input": [
        {
          "name": "filenames",
          "value": {
            "list": {
              "do": {
                "string": {
                  "prompt": "What file should this module create?",
                  "default": "/tmp/filename"
                }
              },
              "while": "Do you want this module to create another file?"
            }
          }
        }
      ],
      "steps": [
        "copy ./create-multiple-files.cf services/autorun/create-multiple-files.cf"
      ]
    }
  }
}
